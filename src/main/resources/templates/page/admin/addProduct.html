
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>상품관리</title>
  <link rel="stylesheet" type="text/css" th:href="@{~/css/headerFooter.css}">
  <link rel="stylesheet" type="text/css" th:href="@{~/css/proStyle.css}">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="//cdn.ckeditor.com/4.20.2/standard/ckeditor.js"></script>
  <script>
    function postData() {
      // alert("시도중")
      // Get the CKEditor instance
      var editor = CKEDITOR.instances['product_code'];
      var content = editor.getData();
      // console.log(typeof(content)); // Print the content to the console
      // alert(content)
      // Set the value of the hidden input field
      document.getElementById("myInput").value = content;
      // Submit the form
      document.getElementById("myForm").submit();
    }

  </script>
</head>
<body>
<div th:insert="header.html"></div>

<div class="add">
  <div class="py-5 text-center">
    <h2 class="product-title">상품 수정</h2>
  </div>
  <form id="product-form" action="/com.solponge/admin/product/add" method="post">
    <div>
      <label for="product_title" class="input-label">상품명</label>
      <input type="text" id="product_title" name="product_title" class="form-control">
    </div>
    <div>
      <label for="product_subtitle" class="input-label">부제목</label>
      <input type="text" id="product_subtitle" name="product_subtitle" class="form-control">
    </div>
    <div>
      <label for="product_writer" class="input-label">작가</label>
      <input type="text" id="product_writer" name="product_writer" class="form-control">
    </div>
    <div>
      <label for="product_price" class="input-label">가격</label>
      <input type="text" id="product_price" name="product_price" class="form-control">
    </div>
    <div class="mb-3">
      <label for="product_img" class="form-label input-label">이미지</label>
      <input type="text" id="product_img" name="product_img" class="form-control">
    </div>
    <div>
      <label for="product_date" class="input-label">출간일</label>
      <input type="text" id="product_date" name="product_date" class="form-control">
    </div>
    <div>
      <label for="product_page" class="input-label">페이지 수</label>
      <input type="text" id="product_page" name="product_page" class="form-control">
    </div>
    <div>
      <label for="product_stock" class="input-label">재고</label>
      <input type="text" id="product_stock" name="product_stock" class="form-control">
    </div>
    <div id="product_code">
      <p></p>
    </div>
    <input type="hidden" id="myInput" name="myInput">
    <script th:inline="javascript">
      /*<![CDATA[*/
      $(function () {
        CKEDITOR.replace('product_code', {
          filebrowserUploadUrl: '../../../../adm/fileupload.do'
        });
      });
      /*]]>*/
    </script>


    <hr class="my-4">
    <div class="row">
      <div class="padding-left">
        <button class="w-100 btn btn-primary btn-lg" type="submit" onclick="postData()">저장</button>
      </div>&nbsp
      <div>
        <button class="w-100 btn btn-secondary btn-lg" onclick="location.href='[[${@{/com.solponge/admin/product/}}${product.product_num}]]'" type="button">취소</button>

      </div>&nbsp
      <div>
        <button class="w-100 btn btn-secondary btn-lg" onclick="location.href='[[${@{/com.solponge/admin/product/}}${product.product_num}/delete]]'" type="button">삭제</button>
      </div>&nbsp
    </div>
    <table>
      <tr>
        <th></th>
      </tr>
    </table>
  </form>
</div>


<div th:insert="footer.html"></div>
</body>
</html>